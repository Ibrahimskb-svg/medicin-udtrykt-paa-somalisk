<!DOCTYPE html>
<html lang="so">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Medicin udtrykt pÃ¥ somalisk</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#e6f2f8;
  color:#123047;
  margin:0;
}

/* Header uses CSS vars so we can change theme per language */
header{
  --c1:#0066cc;
  --c2:#00a676;
  background:linear-gradient(135deg,var(--c1),var(--c2));
  color:#fff;
  padding:26px 16px 32px;
  text-align:center;
  box-shadow:0 2px 8px rgba(0,0,0,0.15);
  transition:background 260ms ease;
}
header h1{ margin:0; font-size:2rem; }
header p{ margin:6px 0 0; font-size:1rem; }

main{
  max-width:850px;
  margin:20px auto 40px;
  padding:0 14px;
}

.index-list{ list-style:none; padding:0; margin:0; }
.index-list li{ margin-bottom:10px; }

.index-link{
  display:flex;
  justify-content:space-between;
  align-items:center;
  text-decoration:none;
  background:#ffffff;
  padding:12px 14px;
  border-radius:12px;
  box-shadow:0 2px 8px rgba(15, 23, 42, 0.10);
  border-left:4px solid var(--accent, #00a676);
  color:#123047;
  transition: background 200ms ease, transform 200ms ease, border-left-color 260ms ease;
}
.index-link:hover{ background:#f1f8ff; }

.index-left{ display:flex; flex-direction:column; }
.index-title{ font-weight:600; font-size:1rem; }
.index-sub{ font-size:0.82rem; color:#607089; }

.index-icon{ font-size:1.2rem; color:var(--accent, #00a676); transition:color 260ms ease; }

footer{
  text-align:center;
  font-size:0.8rem;
  color:#607089;
  margin:30px 0 20px;
}

/* Dropdown bar */
.langbar{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  background:#ffffff;
  border-radius:12px;
  padding:10px 12px;
  margin:0 0 14px 0;
  box-shadow:0 2px 8px rgba(15, 23, 42, 0.10);
  border-left:4px solid var(--accent, #00a676);
  transition:border-left-color 260ms ease;
}
.langbar label{
  font-size:0.9rem;
  color:#123047;
  font-weight:600;
}
.langbar select{
  padding:7px 10px;
  border-radius:10px;
  border:1px solid #d0d7e2;
  background:#fff;
  color:#123047;
  font-size:0.9rem;
  max-width:100%;
}

/* ===== Animation (language switch) ===== */
.index-sub,
#hdrTitle, #hdrSubtitle, #pickTitle, #footLine1, #footLine2, #footStrong, #footLine3, #langLabel, #pickSmall {
  transition: opacity 180ms ease, transform 180ms ease;
}
.fade-out{ opacity:0; transform:translateY(4px); }
.fade-in{ opacity:1; transform:translateY(0); }

/* Flash on cards when language changes â€“ uses accent */
.index-link.lang-flash{
  background: var(--flash, #eef9f3);
  transform: translateY(-1px);
}
</style>
</head>

<body>

<header id="header">
  <h1 id="hdrTitle">Medicin udtrykt pÃ¥ somalisk</h1>
  <p id="hdrSubtitle">Liis kooban oo loogu talagalay waalidiinta &amp; bukaannada Soomaaliyeed</p>
</header>

<main>

  <div class="langbar" aria-label="VÃ¦lg sprog">
    <label for="langSelect" id="langLabel">VÃ¦lg sprog:</label>
    <select id="langSelect">
      <option value="so" selected>Somalisk</option>
      <option value="da">Dansk</option>
      <option value="en">Engelsk</option>
      <option value="ar">Arabisk</option>
      <option value="tr">Tyrkisk</option>
      <option value="ur">Urdu</option>
      <option value="fa">Persisk</option>
      <option value="prs">Dari</option>
      <option value="ps">Pashto</option>
    </select>
  </div>

  <h3 id="pickTitle" style="margin:10px 0 14px; color:#123047;">
    Dooro daawada hoos ka muuqata <span style="color:#607089;" id="pickSmall">(VÃ¦lg medicin nedenfor)</span>
  </h3>

  <ul class="index-list">
    <!-- HOLD dine links her (samme som fÃ¸r) -->
    <li><a class="index-link" data-med="paracetamol" href="paracetamol.html"><div class="index-left"><span class="index-title">Paracetamol</span><span class="index-sub" data-role="sub">xanuun &amp; qandho</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="ibuprofen" href="ibuprofen.html"><div class="index-left"><span class="index-title">Ibuprofen</span><span class="index-sub" data-role="sub">xanuun &amp; barar</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="naproxen" href="naproxen.html"><div class="index-left"><span class="index-title">Naproxen</span><span class="index-sub" data-role="sub">xanuun &amp; barar</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="diclofenac" href="diclofenac.html"><div class="index-left"><span class="index-title">Diclofenac</span><span class="index-sub" data-role="sub">xanuun &amp; barar</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="amlodipin" href="amlodipin.html"><div class="index-left"><span class="index-title">Amlodipin</span><span class="index-sub" data-role="sub">dhiig-karka</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="enalapril" href="enalapril.html"><div class="index-left"><span class="index-title">Enalapril</span><span class="index-sub" data-role="sub">dhiig-karka</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="losartan" href="losartan.html"><div class="index-left"><span class="index-title">Losartan</span><span class="index-sub" data-role="sub">dhiig-karka</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="metoprolol" href="metoprolol.html"><div class="index-left"><span class="index-title">Metoprolol</span><span class="index-sub" data-role="sub">dhiig-karka &amp; wadne garaac</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="marevan" href="marevan.html"><div class="index-left"><span class="index-title">Marevan (Warfarin)</span><span class="index-sub" data-role="sub">dhiig-khafiifin</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="xarelto" href="xarelto.html"><div class="index-left"><span class="index-title">Xarelto</span><span class="index-sub" data-role="sub">dhiig-khafiifin</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="eliquis" href="eliquis.html"><div class="index-left"><span class="index-title">Eliquis</span><span class="index-sub" data-role="sub">dhiig-khafiifin</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="metformin" href="metformin.html"><div class="index-left"><span class="index-title">Metformin</span><span class="index-sub" data-role="sub">sonkoroow</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="insulin" href="insulin.html"><div class="index-left"><span class="index-title">Insulin</span><span class="index-sub" data-role="sub">sonkoroow</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="pantoprazol" href="pantoprazol.html"><div class="index-left"><span class="index-title">Pantoprazol</span><span class="index-sub" data-role="sub">gaastriga iyo labjeexa</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="ventoline" href="ventoline.html"><div class="index-left"><span class="index-title">Ventoline</span><span class="index-sub" data-role="sub">neef-mareenka</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="symbicort" href="symbicort.html"><div class="index-left"><span class="index-title">Symbicort</span><span class="index-sub" data-role="sub">neef-mareenka</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="hjertemagnyl" href="hjertemagnyl.html"><div class="index-left"><span class="index-title">Hjertemagnyl</span><span class="index-sub" data-role="sub">dhiig-khafiifin</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="atorvastatin" href="atorvastatin.html"><div class="index-left"><span class="index-title">Atorvastatin</span><span class="index-sub" data-role="sub">kolestarool</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="morfin_tablet" href="morfin_tablet.html"><div class="index-left"><span class="index-title">Morfin (kiniin)</span><span class="index-sub" data-role="sub">xanuun baabi'iye</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="morfin_injektion" href="morfin_injektion.html"><div class="index-left"><span class="index-title">Morfin (irbad)</span><span class="index-sub" data-role="sub">xanuun baabi'iye</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="melatonin" href="melatonin.html"><div class="index-left"><span class="index-title">Melatonin</span><span class="index-sub" data-role="sub">hurdo</span></div><span class="index-icon">âžœ</span></a></li>

    <li><a class="index-link" data-med="sertralin" href="sertralin.html"><div class="index-left"><span class="index-title">Sertralin</span><span class="index-sub" data-role="sub">niyad-jab &amp; welwel</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="lamotrigin" href="lamotrigin.html"><div class="index-left"><span class="index-title">Lamotrigin</span><span class="index-sub" data-role="sub">suuxdin &amp; laba-cirifood</span></div><span class="index-icon">âžœ</span></a></li>
    <li><a class="index-link" data-med="quetiapin" href="quetiapin.html"><div class="index-left"><span class="index-title">Quetiapin</span><span class="index-sub" data-role="sub">cilad dhimirka &amp; laba-cirifood</span></div><span class="index-icon">âžœ</span></a></li>

    <!-- VIGTIGT: Hvis din fil hedder imozop.html, sÃ¥ ret linket her -->
    <li><a class="index-link" data-med="zopiclon" href="zopiclon.html"><div class="index-left"><span class="index-title">Imozop (Zopiclon)</span><span class="index-sub" data-role="sub">hurdo laâ€™aan</span></div><span class="index-icon">âžœ</span></a></li>
  </ul>

</main>

<footer>
  <span id="footLine1">Qoraalladan waa hagitaan guud oo fudud. Ma beddelayso talada tooska ah ee farmashiyaha ama dhakhtarka.</span><br/>
  <span id="footLine2">(Disse tekster erstatter ikke rÃ¥dgivning fra apoteket eller lÃ¦gen.)</span><br/><br/>
  <strong id="footStrong">Qoraalkan waxaa diyaariyay farmashiiste: Ibraahim Dahir Xanaf</strong><br/>
  <span id="footLine3">(Dette materiale er udviklet af farmakonomen: Ibrahim Dahir Hanaf)</span>
</footer>

<script>
const RTL = new Set(["ar","fa","ur","prs","ps"]);

/* Theme per language */
const THEME = {
  so:  { c1:"#0066cc", c2:"#00a676", accent:"#00a676", flash:"#eef9f3" },
  da:  { c1:"#0b5ed7", c2:"#0dcaf0", accent:"#0b5ed7", flash:"#edf4ff" },  // blÃ¥
  en:  { c1:"#0b3d91", c2:"#ff4d8d", accent:"#ff4d8d", flash:"#fff0f7" },  // pink
  ar:  { c1:"#7a3e00", c2:"#ff8a00", accent:"#7a3e00", flash:"#fff3e6" },  // brun/orange
  tr:  { c1:"#c1121f", c2:"#ff6b6b", accent:"#c1121f", flash:"#fff0f0" },
  ur:  { c1:"#0f766e", c2:"#22c55e", accent:"#0f766e", flash:"#eefaf4" },
  fa:  { c1:"#0ea5e9", c2:"#14b8a6", accent:"#14b8a6", flash:"#e9fbff" },
  prs: { c1:"#4338ca", c2:"#06b6d4", accent:"#4338ca", flash:"#eef2ff" },
  ps:  { c1:"#8b5cf6", c2:"#ec4899", accent:"#ec4899", flash:"#fff0fb" }   // lilla/pink
};

/*
  SUPER VIGTIGT:
  Her definerer vi hvilke sprog hver medicin-side â€œgaranteretâ€ har.
  Hvis du klikker med et sprog som siden IKKE har, sender vi i stedet ?lang=so
  -> sÃ¥ forsvinder teksten ikke.
*/
const PAGE_LANGS = {
  // Nyeste sider (ofte har alle)
  paracetamol:["so","da","en","ar","tr","ur","fa","prs","ps"],
  quetiapin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  zopiclon:["so","da","en","ar","tr","ur","fa","prs","ps"],

  // De andre: hvis du er i tvivl, behold dem brede â€“ eller indsnÃ¦vr senere
  ibuprofen:["so","da","en","ar","tr","ur","fa","prs","ps"],
  naproxen:["so","da","en","ar","tr","ur","fa","prs","ps"],
  diclofenac:["so","da","en","ar","tr","ur","fa","prs","ps"],
  amlodipin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  enalapril:["so","da","en","ar","tr","ur","fa","prs","ps"],
  losartan:["so","da","en","ar","tr","ur","fa","prs","ps"],
  metoprolol:["so","da","en","ar","tr","ur","fa","prs","ps"],
  marevan:["so","da","en","ar","tr","ur","fa","prs","ps"],
  xarelto:["so","da","en","ar","tr","ur","fa","prs","ps"],
  eliquis:["so","da","en","ar","tr","ur","fa","prs","ps"],
  metformin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  insulin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  pantoprazol:["so","da","en","ar","tr","ur","fa","prs","ps"],
  ventoline:["so","da","en","ar","tr","ur","fa","prs","ps"],
  symbicort:["so","da","en","ar","tr","ur","fa","prs","ps"],
  hjertemagnyl:["so","da","en","ar","tr","ur","fa","prs","ps"],
  atorvastatin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  morfin_tablet:["so","da","en","ar","tr","ur","fa","prs","ps"],
  morfin_injektion:["so","da","en","ar","tr","ur","fa","prs","ps"],
  melatonin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  sertralin:["so","da","en","ar","tr","ur","fa","prs","ps"],
  lamotrigin:["so","da","en","ar","tr","ur","fa","prs","ps"]
};

/* Undertekster per medicin per sprog (som fÃ¸r â€“ behold din) */
const SUB = {
  paracetamol: { so:"xanuun & qandho", da:"smerter & feber", en:"pain & fever", ar:"Ø§Ù„Ø£Ù„Ù… ÙˆØ§Ù„Ø­Ù…Ù‘Ù‰", tr:"aÄŸrÄ± & ateÅŸ", ur:"Ø¯Ø±Ø¯ & Ø¨Ø®Ø§Ø±", fa:"Ø¯Ø±Ø¯ Ùˆ ØªØ¨", prs:"Ø¯Ø±Ø¯ Ùˆ ØªØ¨Ù‡", ps:"Ø¯Ø±Ø¯ & ØªØ¨Ù‡" },
  ibuprofen: { so:"xanuun & barar", da:"smerter & betÃ¦ndelse", en:"pain & inflammation", ar:"Ø§Ù„Ø£Ù„Ù… ÙˆØ§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨", tr:"aÄŸrÄ± & iltihap", ur:"Ø¯Ø±Ø¯ & Ø³ÙˆØ²Ø´", fa:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", prs:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", ps:"Ø¯Ø±Ø¯ & Ø§Ù„ØªÙ‡Ø§Ø¨" },
  naproxen: { so:"xanuun & barar", da:"smerter & betÃ¦ndelse", en:"pain & inflammation", ar:"Ø§Ù„Ø£Ù„Ù… ÙˆØ§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨", tr:"aÄŸrÄ± & iltihap", ur:"Ø¯Ø±Ø¯ & Ø³ÙˆØ²Ø´", fa:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", prs:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", ps:"Ø¯Ø±Ø¯ & Ø§Ù„ØªÙ‡Ø§Ø¨" },
  diclofenac: { so:"xanuun & barar", da:"smerter & betÃ¦ndelse", en:"pain & inflammation", ar:"Ø§Ù„Ø£Ù„Ù… ÙˆØ§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨", tr:"aÄŸrÄ± & iltihap", ur:"Ø¯Ø±Ø¯ & Ø³ÙˆØ²Ø´", fa:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", prs:"Ø¯Ø±Ø¯ Ùˆ Ø§Ù„ØªÙ‡Ø§Ø¨", ps:"Ø¯Ø±Ø¯ & Ø§Ù„ØªÙ‡Ø§Ø¨" },
  amlodipin: { so:"dhiig-karka", da:"forhÃ¸jet blodtryk", en:"high blood pressure", ar:"Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…", tr:"yÃ¼ksek tansiyon", ur:"Ø¨Ù„Ù†Ø¯ ÙØ´Ø§Ø± Ø®ÙˆÙ†", fa:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ø§Ù„Ø§", prs:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ù„Ù†Ø¯", ps:"Ù„ÙˆÚ“ Ø¯ ÙˆÛŒÙ†Û ÙØ´Ø§Ø±" },
  enalapril: { so:"dhiig-karka", da:"forhÃ¸jet blodtryk", en:"high blood pressure", ar:"Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…", tr:"yÃ¼ksek tansiyon", ur:"Ø¨Ù„Ù†Ø¯ ÙØ´Ø§Ø± Ø®ÙˆÙ†", fa:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ø§Ù„Ø§", prs:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ù„Ù†Ø¯", ps:"Ù„ÙˆÚ“ Ø¯ ÙˆÛŒÙ†Û ÙØ´Ø§Ø±" },
  losartan: { so:"dhiig-karka", da:"forhÃ¸jet blodtryk", en:"high blood pressure", ar:"Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…", tr:"yÃ¼ksek tansiyon", ur:"Ø¨Ù„Ù†Ø¯ ÙØ´Ø§Ø± Ø®ÙˆÙ†", fa:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ø§Ù„Ø§", prs:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ù„Ù†Ø¯", ps:"Ù„ÙˆÚ“ Ø¯ ÙˆÛŒÙ†Û ÙØ´Ø§Ø±" },
  metoprolol: { so:"dhiig-karka & wadne garaac", da:"blodtryk & hjertebanken", en:"blood pressure & palpitations", ar:"Ø¶ØºØ· Ø§Ù„Ø¯Ù… ÙˆØ®ÙÙ‚Ø§Ù† Ø§Ù„Ù‚Ù„Ø¨", tr:"tansiyon & Ã§arpÄ±ntÄ±", ur:"Ø¨Ù„Úˆ Ù¾Ø±ÛŒØ´Ø± & Ø¯Ù„ Ú©ÛŒ Ø¯Ú¾Ú‘Ú©Ù†", fa:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ùˆ ØªÙ¾Ø´ Ù‚Ù„Ø¨", prs:"ÙØ´Ø§Ø± Ø®ÙˆÙ† Ùˆ ØªÙ¾Ø´ Ù‚Ù„Ø¨", ps:"ÙØ´Ø§Ø± Ø§Ùˆ Ø¯ Ø²Ú“Ù‡ Ø¯Ø±Ø²Ø§" },
  marevan: { so:"dhiig-khafiifin", da:"blodfortyndende", en:"blood thinner", ar:"Ù…ÙÙ…ÙŠÙ‘Ø¹ Ù„Ù„Ø¯Ù…", tr:"kan sulandÄ±rÄ±cÄ±", ur:"Ø®ÙˆÙ† Ù¾ØªÙ„Ø§ Ú©Ø±Ù†Û’ ÙˆØ§Ù„ÛŒ", fa:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", prs:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", ps:"Ø¯ ÙˆÛŒÙ†Û Ù†Ø±ÛŒ Ú©ÙˆÙˆÙ†Ú©ÛŒ" },
  xarelto: { so:"dhiig-khafiifin", da:"blodfortyndende", en:"blood thinner", ar:"Ù…ÙÙ…ÙŠÙ‘Ø¹ Ù„Ù„Ø¯Ù…", tr:"kan sulandÄ±rÄ±cÄ±", ur:"Ø®ÙˆÙ† Ù¾ØªÙ„Ø§ Ú©Ø±Ù†Û’ ÙˆØ§Ù„ÛŒ", fa:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", prs:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", ps:"Ø¯ ÙˆÛŒÙ†Û Ù†Ø±ÛŒ Ú©ÙˆÙˆÙ†Ú©ÛŒ" },
  eliquis: { so:"dhiig-khafiifin", da:"blodfortyndende", en:"blood thinner", ar:"Ù…ÙÙ…ÙŠÙ‘Ø¹ Ù„Ù„Ø¯Ù…", tr:"kan sulandÄ±rÄ±cÄ±", ur:"Ø®ÙˆÙ† Ù¾ØªÙ„Ø§ Ú©Ø±Ù†Û’ ÙˆØ§Ù„ÛŒ", fa:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", prs:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", ps:"Ø¯ ÙˆÛŒÙ†Û Ù†Ø±ÛŒ Ú©ÙˆÙˆÙ†Ú©ÛŒ" },
  metformin: { so:"sonkoroow", da:"diabetes", en:"diabetes", ar:"Ø§Ù„Ø³ÙƒØ±ÙŠ", tr:"diyabet", ur:"Ø°ÛŒØ§Ø¨ÛŒØ·Ø³", fa:"Ø¯ÛŒØ§Ø¨Øª", prs:"Ø¯ÛŒØ§Ø¨Øª", ps:"Ø´Ú©Ø±" },
  insulin: { so:"sonkoroow", da:"diabetes", en:"diabetes", ar:"Ø§Ù„Ø³ÙƒØ±ÙŠ", tr:"diyabet", ur:"Ø°ÛŒØ§Ø¨ÛŒØ·Ø³", fa:"Ø¯ÛŒØ§Ø¨Øª", prs:"Ø¯ÛŒØ§Ø¨Øª", ps:"Ø´Ú©Ø±" },
  pantoprazol: { so:"gaastriga iyo labjeexa", da:"mavesyre & halsbrand", en:"stomach acid & heartburn", ar:"Ø­Ù…ÙˆØ¶Ø© Ø§Ù„Ù…Ø¹Ø¯Ø© ÙˆØ­Ø±Ù‚Ø© Ø§Ù„Ù…Ø¹Ø¯Ø©", tr:"mide asidi & reflÃ¼", ur:"Ù…Ø¹Ø¯Û’ Ú©ÛŒ ØªÛŒØ²Ø§Ø¨ÛŒØª & Ø³ÛŒÙ†Û’ Ú©ÛŒ Ø¬Ù„Ù†", fa:"Ø§Ø³ÛŒØ¯ Ù…Ø¹Ø¯Ù‡ Ùˆ Ø³ÙˆØ²Ø´ Ø³Ø± Ø¯Ù„", prs:"Ø§Ø³ÛŒØ¯ Ù…Ø¹Ø¯Ù‡ Ùˆ Ø³ÙˆØ²Ø´ Ø³Ø± Ø¯Ù„", ps:"Ø¯ Ù…Ø¹Ø¯Û ØªÛŒØ²Ø§Ø¨ Ø§Ùˆ Ø¯ Ø³ÛŒÙ†Û Ø³ÙˆÚÛØ¯Ù†Ù‡" },
  ventoline: { so:"neef-mareenka", da:"astma", en:"asthma", ar:"Ø§Ù„Ø±Ø¨Ùˆ", tr:"astÄ±m", ur:"Ø¯Ù…Û", fa:"Ø¢Ø³Ù…", prs:"Ø¢Ø³Ù…", ps:"Ø§Ø³ØªÙ…Ø§" },
  symbicort: { so:"neef-mareenka", da:"astma", en:"asthma", ar:"Ø§Ù„Ø±Ø¨Ùˆ", tr:"astÄ±m", ur:"Ø¯Ù…Û", fa:"Ø¢Ø³Ù…", prs:"Ø¢Ø³Ù…", ps:"Ø§Ø³ØªÙ…Ø§" },
  hjertemagnyl: { so:"dhiig-khafiifin", da:"blodfortyndende", en:"blood thinner", ar:"Ù…ÙÙ…ÙŠÙ‘Ø¹ Ù„Ù„Ø¯Ù…", tr:"kan sulandÄ±rÄ±cÄ±", ur:"Ø®ÙˆÙ† Ù¾ØªÙ„Ø§ Ú©Ø±Ù†Û’ ÙˆØ§Ù„ÛŒ", fa:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", prs:"Ø±Ù‚ÛŒÙ‚â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø®ÙˆÙ†", ps:"Ø¯ ÙˆÛŒÙ†Û Ù†Ø±ÛŒ Ú©ÙˆÙˆÙ†Ú©ÛŒ" },
  atorvastatin: { so:"kolestarool", da:"kolesterol", en:"cholesterol", ar:"Ø§Ù„ÙƒÙˆÙ„ÙŠØ³ØªØ±ÙˆÙ„", tr:"kolesterol", ur:"Ú©ÙˆÙ„ÛŒØ³Ù¹Ø±ÙˆÙ„", fa:"Ú©Ù„Ø³ØªØ±ÙˆÙ„", prs:"Ú©Ù„Ø³ØªØ±ÙˆÙ„", ps:"Ú©ÙˆÙ„ÛØ³Ù¼Ø±ÙˆÙ„" },
  morfin_tablet: { so:"xanuun baabi'iye", da:"smertestillende", en:"pain relief", ar:"Ù…Ø³ÙƒÙ† Ø£Ù„Ù…", tr:"aÄŸrÄ± kesici", ur:"Ø¯Ø±Ø¯ Ú©Ø´", fa:"Ù…Ø³Ú©Ù† Ø¯Ø±Ø¯", prs:"Ù…Ø³Ú©Ù† Ø¯Ø±Ø¯", ps:"Ø¯ Ø¯Ø±Ø¯ Ø¶Ø¯" },
  morfin_injektion: { so:"xanuun baabi'iye", da:"smertestillende", en:"pain relief", ar:"Ù…Ø³ÙƒÙ† Ø£Ù„Ù…", tr:"aÄŸrÄ± kesici", ur:"Ø¯Ø±Ø¯ Ú©Ø´", fa:"Ù…Ø³Ú©Ù† Ø¯Ø±Ø¯", prs:"Ù…Ø³Ú©Ù† Ø¯Ø±Ø¯", ps:"Ø¯ Ø¯Ø±Ø¯ Ø¶Ø¯" },
  melatonin: { so:"hurdo", da:"sÃ¸vn", en:"sleep", ar:"Ø§Ù„Ù†ÙˆÙ…", tr:"uyku", ur:"Ù†ÛŒÙ†Ø¯", fa:"Ø®ÙˆØ§Ø¨", prs:"Ø®ÙˆØ§Ø¨", ps:"Ø®ÙˆØ¨" },
  sertralin: { so:"niyad-jab & welwel", da:"depression & angst", en:"depression & anxiety", ar:"Ø§Ù„Ø§ÙƒØªØ¦Ø§Ø¨ ÙˆØ§Ù„Ù‚Ù„Ù‚", tr:"depresyon & kaygÄ±", ur:"ÚˆÙ¾Ø±ÛŒØ´Ù† & Ø¨Û’ Ú†ÛŒÙ†ÛŒ", fa:"Ø§ÙØ³Ø±Ø¯Ú¯ÛŒ Ùˆ Ø§Ø¶Ø·Ø±Ø§Ø¨", prs:"Ø§ÙØ³Ø±Ø¯Ú¯ÛŒ Ùˆ Ø§Ø¶Ø·Ø±Ø§Ø¨", ps:"Ø®Ù¾Ú«Ø§Ù† Ø§Ùˆ Ø§Ø¶Ø·Ø±Ø§Ø¨" },
  lamotrigin: { so:"suuxdin & laba-cirifood", da:"epilepsi & bipolar", en:"epilepsy & bipolar", ar:"Ø§Ù„ØµØ±Ø¹ ÙˆØ«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù‚Ø·Ø¨", tr:"epilepsi & bipolar", ur:"Ù…Ø±Ú¯ÛŒ & Ø¨Ø§Ø¦ÛŒ Ù¾ÙˆÙ„Ø±", fa:"ØµØ±Ø¹ Ùˆ Ø¯ÙˆÙ‚Ø·Ø¨ÛŒ", prs:"ØµØ±Ø¹ Ùˆ Ø¯ÙˆÙ‚Ø·Ø¨ÛŒ", ps:"Ù…Ø±Û & Ø¨Ø§ÛŒÙ¾ÙˆÙ„Ø±" },
  quetiapin: { so:"cilad dhimirka & laba-cirifood", da:"psykose & bipolar", en:"psychosis & bipolar", ar:"Ø§Ù„Ø°Ù‡Ø§Ù† ÙˆØ«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù‚Ø·Ø¨", tr:"psikoz & bipolar", ur:"Ù†ÙØ³ÛŒØ§ØªÛŒ Ø¹Ø§Ø±Ø¶Û & Ø¨Ø§Ø¦ÛŒ Ù¾ÙˆÙ„Ø±", fa:"Ø±ÙˆØ§Ù†â€ŒÙ¾Ø±ÛŒØ´ÛŒ Ùˆ Ø¯ÙˆÙ‚Ø·Ø¨ÛŒ", prs:"Ø±ÙˆØ§Ù†â€ŒÙ¾Ø±ÛŒØ´ÛŒ Ùˆ Ø¯ÙˆÙ‚Ø·Ø¨ÛŒ", ps:"Ø³Ø§ÛŒÚ©ÙˆØ³Ø³ & Ø¨Ø§ÛŒÙ¾ÙˆÙ„Ø±" },
  zopiclon: { so:"hurdo laâ€™aan", da:"sÃ¸vnlÃ¸shed", en:"insomnia", ar:"Ø§Ù„Ø£Ø±Ù‚", tr:"uykusuzluk", ur:"Ø¨Û’ Ø®ÙˆØ§Ø¨ÛŒ", fa:"Ø¨ÛŒâ€ŒØ®ÙˆØ§Ø¨ÛŒ", prs:"Ø¨ÛŒâ€ŒØ®ÙˆØ§Ø¨ÛŒ", ps:"Ø¨Û Ø®ÙˆØ¨ÙŠ" }
};

const T = {
  so: {
    pageTitle:"Medicin udtrykt pÃ¥ somalisk",
    hdrTitle:"Medicin udtrykt pÃ¥ somalisk",
    hdrSubtitle:"Liis kooban oo loogu talagalay waalidiinta & bukaannada Soomaaliyeed",
    langLabel:"Dooro luqadda:",
    pickTitle:"Dooro daawada hoos ka muuqata",
    pickSmall:"(VÃ¦lg medicin nedenfor)",
    footer1:"Qoraalladan waa hagitaan guud oo fudud. Ma beddelayso talada tooska ah ee farmashiyaha ama dhakhtarka.",
    footer2:"(Disse tekster erstatter ikke rÃ¥dgivning fra apoteket eller lÃ¦gen.)",
    footerStrong:"Qoraalkan waxaa diyaariyay farmashiiste: Ibraahim Dahir Xanaf",
    footer3:"(Dette materiale er udviklet af farmakonomen: Ibrahim Dahir Hanaf)"
  },
  da: {
    pageTitle:"Medicin pÃ¥ somalisk",
    hdrTitle:"Medicin pÃ¥ somalisk",
    hdrSubtitle:"En kort liste til patienter og pÃ¥rÃ¸rende.",
    langLabel:"VÃ¦lg sprog:",
    pickTitle:"VÃ¦lg medicin nedenfor",
    pickSmall:"",
    footer1:"Teksterne er generel vejledning og erstatter ikke rÃ¥dgivning fra apoteket eller lÃ¦gen.",
    footer2:"",
    footerStrong:"Udarbejdet af farmakonomen: Ibrahim Dahir Hanaf",
    footer3:""
  },
  en: {
    pageTitle:"Medicines in Somali",
    hdrTitle:"Medicines in Somali",
    hdrSubtitle:"A short list for patients and relatives.",
    langLabel:"Choose language:",
    pickTitle:"Choose a medicine below",
    pickSmall:"",
    footer1:"These texts are general guidance and do not replace advice from your pharmacy or doctor.",
    footer2:"",
    footerStrong:"Prepared by pharmaconomist: Ibrahim Dahir Hanaf",
    footer3:""
  },
  ar: {
    pageTitle:"Ø£Ø¯ÙˆÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„ØµÙˆÙ…Ø§Ù„ÙŠØ©",
    hdrTitle:"Ø£Ø¯ÙˆÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„ØµÙˆÙ…Ø§Ù„ÙŠØ©",
    hdrSubtitle:"Ù‚Ø§Ø¦Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ù„Ù„Ù…Ø±Ø¶Ù‰ ÙˆØ£ÙØ±Ø§Ø¯ Ø§Ù„Ø£Ø³Ø±Ø©",
    langLabel:"Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©:",
    pickTitle:"Ø§Ø®ØªØ± Ø¯ÙˆØ§Ø¡Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",
    pickSmall:"",
    footer1:"Ù‡Ø°Ù‡ Ø§Ù„Ù†ØµÙˆØµ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© ÙˆÙ„Ø§ ØªØºÙ†ÙŠ Ø¹Ù† Ù†ØµÙŠØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø£Ùˆ Ø§Ù„Ø·Ø¨ÙŠØ¨.",
    footer2:"",
    footerStrong:"Ø¥Ø¹Ø¯Ø§Ø¯: Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¸Ø§Ù‡Ø± Ø­Ù†Ù (Ø§Ø®ØªØµØ§ØµÙŠ ØµÙŠØ¯Ù„Ø©)",
    footer3:""
  },
  tr: {
    pageTitle:"Somalice ilaÃ§ bilgileri",
    hdrTitle:"Somalice ilaÃ§ bilgileri",
    hdrSubtitle:"Hasta ve yakÄ±nlarÄ± iÃ§in kÄ±sa liste.",
    langLabel:"Dil seÃ§in:",
    pickTitle:"AÅŸaÄŸÄ±dan ilacÄ± seÃ§in",
    pickSmall:"",
    footer1:"Bu metinler genel bilgilendirme amaÃ§lÄ±dÄ±r; eczane veya doktor tavsiyesinin yerine geÃ§mez.",
    footer2:"",
    footerStrong:"HazÄ±rlayan: farmakonomist Ibrahim Dahir Hanaf",
    footer3:""
  },
  ur: {
    pageTitle:"Ø³ÙˆÙ…Ø§Ù„ÛŒ Ø²Ø¨Ø§Ù† Ù…ÛŒÚº Ø§Ø¯ÙˆÛŒØ§Øª",
    hdrTitle:"Ø³ÙˆÙ…Ø§Ù„ÛŒ Ø²Ø¨Ø§Ù† Ù…ÛŒÚº Ø§Ø¯ÙˆÛŒØ§Øª",
    hdrSubtitle:"Ù…Ø±ÛŒØ¶ÙˆÚº Ø§ÙˆØ± Ø§ÛÙ„Ù Ø®Ø§Ù†Û Ú©Û’ Ù„ÛŒÛ’ Ù…Ø®ØªØµØ± ÙÛØ±Ø³Øª",
    langLabel:"Ø²Ø¨Ø§Ù† Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº:",
    pickTitle:"Ù†ÛŒÚ†Û’ Ø³Û’ Ø¯ÙˆØ§ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
    pickSmall:"",
    footer1:"ÛŒÛ ØªØ­Ø±ÛŒØ±ÛŒÚº Ø¹Ù…ÙˆÙ…ÛŒ Ø±ÛÙ†Ù…Ø§Ø¦ÛŒ ÛÛŒÚº Ø§ÙˆØ± ÚˆØ§Ú©Ù¹Ø± ÛŒØ§ ÙØ§Ø±Ù…ÛŒØ³ÛŒ Ú©Û’ Ù…Ø´ÙˆØ±Û’ Ú©Ø§ Ù…ØªØ¨Ø§Ø¯Ù„ Ù†ÛÛŒÚºÛ”",
    footer2:"",
    footerStrong:"Ù…Ø±ØªØ¨ Ú©Ø±Ø¯Û: ÙØ§Ø±Ù…Ø§Ú©ÙˆÙ†ÙˆÙ…Ø³Ù¹ Ø§Ø¨Ø±Ø§ÛÛŒÙ… Ø¸Ø§ÛØ± Ø­Ù†Ù",
    footer3:""
  },
  fa: {
    pageTitle:"Ø¯Ø§Ø±ÙˆÙ‡Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³ÙˆÙ…Ø§Ù„ÛŒ",
    hdrTitle:"Ø¯Ø§Ø±ÙˆÙ‡Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³ÙˆÙ…Ø§Ù„ÛŒ",
    hdrSubtitle:"ÙÙ‡Ø±Ø³Øª Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ø¨ÛŒÙ…Ø§Ø±Ø§Ù† Ùˆ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ‡Ø§",
    langLabel:"Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù†:",
    pickTitle:"Ø¯Ø§Ø±Ùˆ Ø±Ø§ Ø§Ø² ÙÙ‡Ø±Ø³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯",
    pickSmall:"",
    footer1:"Ø§ÛŒÙ† Ù…ØªÙ†â€ŒÙ‡Ø§ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ØªÙˆØµÛŒÙ‡ Ù¾Ø²Ø´Ú© ÛŒØ§ Ø¯Ø§Ø±ÙˆØ®Ø§Ù†Ù‡ Ù†ÛŒØ³ØªÙ†Ø¯.",
    footer2:"",
    footerStrong:"ØªÙ‡ÛŒÙ‡â€ŒÚ©Ù†Ù†Ø¯Ù‡: ÙØ§Ø±Ù…Ø§Ú©ÙˆÙ†ÙˆÙ…ÛŒØ³Øª Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø¸Ø§Ù‡Ø± Ø­Ù†Ù",
    footer3:""
  },
  prs: {
    pageTitle:"Ø¯ÙˆØ§Ù‡Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³ÙˆÙ…Ø§Ù„ÛŒ",
    hdrTitle:"Ø¯ÙˆØ§Ù‡Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³ÙˆÙ…Ø§Ù„ÛŒ",
    hdrSubtitle:"ÙÙ‡Ø±Ø³Øª Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø±ÛŒØ¶Ø§Ù† Ùˆ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ‡Ø§",
    langLabel:"Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù†:",
    pickTitle:"Ø¯ÙˆØ§ Ø±Ø§ Ø§Ø² ÙÙ‡Ø±Ø³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯",
    pickSmall:"",
    footer1:"Ø§ÛŒÙ† Ù…ØªÙ†â€ŒÙ‡Ø§ Ø±Ù‡Ù†Ù…Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ø´ÙˆØ±Ù‡ Ø¯Ø§Ú©ØªØ± ÛŒØ§ Ø¯ÙˆØ§Ø®Ø§Ù†Ù‡ Ù†ÛŒØ³ØªÙ†Ø¯.",
    footer2:"",
    footerStrong:"ØªÙ‡ÛŒÙ‡â€ŒÚ©Ù†Ù†Ø¯Ù‡: ÙØ§Ø±Ù…Ø§Ú©ÙˆÙ†ÙˆÙ…ÛŒØ³Øª Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø¸Ø§Ù‡Ø± Ø­Ù†Ù",
    footer3:""
  },
  ps: {
    pageTitle:"Ø¯Ø±Ù…Ù„ Ù¾Ù‡ Ø³ÙˆÙ…Ø§Ù„ÙŠ Ú˜Ø¨Ù‡",
    hdrTitle:"Ø¯Ø±Ù…Ù„ Ù¾Ù‡ Ø³ÙˆÙ…Ø§Ù„ÙŠ Ú˜Ø¨Ù‡",
    hdrSubtitle:"Ø¯ Ù†Ø§Ø±ÙˆØºØ§Ù†Ùˆ Ø§Ùˆ Ú©ÙˆØ±Ù†Û Ù„Ù¾Ø§Ø±Ù‡ Ù„Ù†Ú‰ Ù„ÛØ³Øª",
    langLabel:"Ú˜Ø¨Ù‡ ÙˆÙ¼Ø§Ú©Ø¦:",
    pickTitle:"Ù„Ø§Ù†Ø¯Û Ø¯Ø±Ù…Ù„ ÙˆÙ¼Ø§Ú©Ø¦",
    pickSmall:"",
    footer1:"Ø¯Ø§ Ù…ØªÙ†ÙˆÙ†Ù‡ Ø¹Ù…ÙˆÙ…ÙŠ Ù„Ø§Ø±ÚšÙˆÙˆÙ†Û Ø¯ÙŠ Ø§Ùˆ Ø¯ Ú‰Ø§Ú©Ù¼Ø± ÙŠØ§ Ø¯Ø±Ù…Ù„ØªÙˆÙ† Ù…Ø´ÙˆØ±Ù‡ Ù†Ù‡ Ø¨Ø¯Ù„ÙˆÙŠ.",
    footer2:"",
    footerStrong:"Ú†Ù…ØªÙˆ Ú©ÙˆÙˆÙ†Ú©ÛŒ: ÙØ§Ø±Ù…Ú©ÙˆÙ†ÙˆÙ…ÛØ³Ù¼ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø¸Ø§Ù‡Ø± Ø­Ù†Ù",
    footer3:""
  }
};

function setDirLang(lang){
  document.documentElement.lang = lang;
  document.documentElement.dir = RTL.has(lang) ? "rtl" : "ltr";
}
function setLangInUrl(lang){
  const url = new URL(window.location.href);
  url.searchParams.set("lang", lang);
  history.replaceState({}, "", url.toString());
}
function applyTheme(lang){
  const th = THEME[lang] || THEME.so;
  document.documentElement.style.setProperty("--accent", th.accent);
  document.documentElement.style.setProperty("--flash", th.flash);
  const header = document.getElementById("header");
  if (header){
    header.style.setProperty("--c1", th.c1);
    header.style.setProperty("--c2", th.c2);
  }
}

/* animation helpers */
function animateSwap(el, newText){
  if (!el) return;
  el.classList.add("fade-out");
  setTimeout(() => {
    el.textContent = newText || "";
    el.classList.remove("fade-out");
    el.classList.add("fade-in");
    setTimeout(() => el.classList.remove("fade-in"), 200);
  }, 140);
}
function flashCards(){
  document.querySelectorAll("a.index-link").forEach(a => {
    a.classList.add("lang-flash");
    setTimeout(() => a.classList.remove("lang-flash"), 220);
  });
}
function updateIndexSubs(lang){
  document.querySelectorAll('a.index-link[data-med]').forEach(a => {
    const key = a.getAttribute('data-med');
    const subText = (SUB[key] && (SUB[key][lang] || SUB[key].so)) || "";
    const subEl = a.querySelector('[data-role="sub"]');
    animateSwap(subEl, subText);
  });
}

/* ðŸš‘ Safe language routing */
function normalizeLang(requested){
  return (THEME[requested] ? requested : "so");
}
function safeLangForPage(medKey, requestedLang){
  const req = normalizeLang(requestedLang);
  const supported = PAGE_LANGS[medKey] || ["so"];
  return supported.includes(req) ? req : "so";
}

function applyLang(lang){
  const d = T[lang] || T.so;

  applyTheme(lang);
  setDirLang(lang);
  document.title = d.pageTitle;

  animateSwap(document.getElementById("hdrTitle"), d.hdrTitle);
  animateSwap(document.getElementById("hdrSubtitle"), d.hdrSubtitle);
  animateSwap(document.getElementById("langLabel"), d.langLabel);

  const pick = document.getElementById("pickTitle");
  if (pick && pick.childNodes && pick.childNodes[0]) {
    pick.childNodes[0].textContent = (d.pickTitle || "") + " ";
  }
  animateSwap(document.getElementById("pickSmall"), d.pickSmall);

  animateSwap(document.getElementById("footLine1"), d.footer1);
  animateSwap(document.getElementById("footLine2"), d.footer2);
  animateSwap(document.getElementById("footStrong"), d.footerStrong);
  animateSwap(document.getElementById("footLine3"), d.footer3);

  updateIndexSubs(lang);
  flashCards();

  // store selected language (so it stays)
  localStorage.setItem("site_lang", lang);

  // keep language when opening a medicine page, BUT SAFE
  document.querySelectorAll('a.index-link[data-med]').forEach(a => {
    const medKey = a.getAttribute("data-med");
    const base = a.getAttribute('href').split('?')[0];
    const safe = safeLangForPage(medKey, lang);
    a.setAttribute('href', base + '?lang=' + encodeURIComponent(safe));
  });

  setLangInUrl(lang);
}

// Start language: URL > localStorage > so
const params = new URLSearchParams(window.location.search);
const fromUrl = params.get('lang');
const fromStore = localStorage.getItem("site_lang");
const startLang = normalizeLang(fromUrl || fromStore || 'so');

document.getElementById("langSelect").value = startLang;
applyLang(startLang);

document.getElementById("langSelect").addEventListener("change", function(){
  applyLang(this.value);
});
</script>

</body>
</html>
